# Python App Engine Flexible Environment configuration
runtime: python
env: flex  # This line enables the flexible environment
entrypoint: gunicorn -b :$PORT main:app  # How the application will be started

instance_class: F2  # Instance type (F1-F4)
automatic_scaling:
  max_instances: 3  # Adjust based on your needs
  min_instances: 0  # Allows scaling to zero
  target_cpu_utilization: 0.6

# Runtime configuration
runtime_config:
  operating_system: ubuntu22  # Latest supported Ubuntu OS
  python_version: 3.10  # Specify Python version (optional if using latest)

# Instance class controls the resources available to your app
resources:
  cpu: 1
  memory_gb: 1
  disk_size_gb: 10

# Environment variables
env_variables:
  ENV: 'production'
  # Add other environment variables here

# Static file handlers if needed
handlers:
  - url: /static
    static_dir: static
  - url: /.*
    script: auto


  # All other URLs are handled by your application
  - url: /.*
    script: auto